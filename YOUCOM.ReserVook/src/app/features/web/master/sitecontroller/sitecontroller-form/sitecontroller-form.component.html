<div fxLayout="row wrap" fxLayoutAlign="center start">
  <div fxFlex.gt-sm="30" fxFlex="100">
    <mat-card class="pa-0">
      <mat-tab-group >
        <mat-tab>
          <ng-template matTabLabel>WEB連携 - 基本マスタ</ng-template>
            <mat-card-content class="pa-1">
              <form fxLayout="column" [formGroup]="siteControllerForm">

                <div class="siteName">サイトコントローラー名:{{siteName}}</div><br>

                <mat-form-field class="mb-1">
                  <mat-select placeholder="利用フラグ" formControlName="scUseFlg"(selectionChange)="selectUseFlg()" required>
                    <mat-option *ngFor="let op of useFlg" [value]="op.key">{{ op.value }}</mat-option>
                  </mat-select>
                  <div *ngIf="siteControllerForm.controls['scUseFlg'].invalid && (siteControllerForm.controls['scUseFlg'].touched || siteControllerForm.controls['scUseFlg'].dirty)">
                    <small *ngIf="siteControllerForm.controls['scUseFlg'].hasError('required')" class="mat-text-warn">{{msgRequid}}</small>
                  </div>
                </mat-form-field>

                <ng-container *ngIf="usesFlg">

                <mat-form-field class="mb-1">
                  <input matInput placeholder="システムID" formControlName="scSystemId" required>
                  <div *ngIf="siteControllerForm.controls['scSystemId'].invalid && (siteControllerForm.controls['scSystemId'].touched || siteControllerForm.controls['scSystemId'].dirty)">
                    <small *ngIf="siteControllerForm.controls['scSystemId'].hasError('pattern')" class="mat-text-warn">{{msgPatternAlphabe}}</small>
                    <small *ngIf="siteControllerForm.controls['scSystemId'].hasError('maxlength')" class="mat-text-warn">{{msgMaxLength50}}</small>
                    <small *ngIf="siteControllerForm.controls['scSystemId'].hasError('required')" class="mat-text-warn">{{msgRequid}}</small>
                  </div>
                </mat-form-field>

                <mat-form-field class="mb-1">
                  <input matInput placeholder="接続ユーザーID" formControlName="scUsrId" required>
                  <div *ngIf="siteControllerForm.controls['scUsrId'].invalid && (siteControllerForm.controls['scUsrId'].touched || siteControllerForm.controls['scUsrId'].dirty)">
                    <small *ngIf="siteControllerForm.controls['scUsrId'].hasError('pattern')" class="mat-text-warn">{{msgPatternAlphabe}}</small>
                    <small *ngIf="siteControllerForm.controls['scUsrId'].hasError('maxlength')" class="mat-text-warn">{{msgMaxLength50}}</small>
                    <small *ngIf="siteControllerForm.controls['scUsrId'].hasError('required')" class="mat-text-warn">{{msgRequid}}</small>
                  </div>
                </mat-form-field>

                <mat-form-field class="mb-1">
                  <input matInput placeholder="接続パスワード" formControlName="scUsrPassword" required>
                  <div *ngIf="siteControllerForm.controls['scUsrPassword'].invalid && (siteControllerForm.controls['scUsrPassword'].touched || siteControllerForm.controls['scUsrPassword'].dirty)">
                    <small *ngIf="siteControllerForm.controls['scUsrPassword'].hasError('pattern')" class="mat-text-warn">記号と{{msgPatternAlphabe}}</small>
                    <small *ngIf="siteControllerForm.controls['scUsrPassword'].hasError('maxlength')" class="mat-text-warn">{{msgMaxLength50}}</small>
                    <small *ngIf="siteControllerForm.controls['scUsrPassword'].hasError('required')" class="mat-text-warn">{{msgRequid}}</small>
                  </div>
                </mat-form-field>

                <mat-form-field class="mb-1">
                  <mat-select placeholder="新規電文" formControlName="scNewRcvFlg" required>
                    <mat-option *ngFor="let op of rcvFlg" [value]="op.key">{{ op.value }}</mat-option>
                  </mat-select>
                  <div *ngIf="siteControllerForm.controls['scNewRcvFlg'].invalid && (siteControllerForm.controls['scNewRcvFlg'].touched || siteControllerForm.controls['scNewRcvFlg'].dirty)">
                    <small *ngIf="siteControllerForm.controls['scNewRcvFlg'].hasError('required')" class="mat-text-warn">{{msgRequid}}</small>
                  </div>
                </mat-form-field>

                <mat-form-field class="mb-1">
                  <mat-select placeholder="取消電文" formControlName="scCancellationRcvFlg" required>
                    <mat-option *ngFor="let op of rcvFlg" [value]="op.key">{{ op.value }}</mat-option>
                  </mat-select>
                  <div *ngIf="siteControllerForm.controls['scCancellationRcvFlg'].invalid && (siteControllerForm.controls['scCancellationRcvFlg'].touched || siteControllerForm.controls['scCancellationRcvFlg'].dirty)">
                    <small *ngIf="siteControllerForm.controls['scCancellationRcvFlg'].hasError('required')" class="mat-text-warn">{{msgRequid}}</small>
                  </div>
                </mat-form-field>

                <mat-form-field class="mb-1">
                  <input matInput placeholder="予約受信URL" formControlName="scReservationRcvUrl" required>
                  <div *ngIf="siteControllerForm.controls['scReservationRcvUrl'].invalid && (siteControllerForm.controls['scReservationRcvUrl'].touched || siteControllerForm.controls['scReservationRcvUrl'].dirty)">
                    <small *ngIf="siteControllerForm.controls['scReservationRcvUrl'].hasError('pattern')" class="mat-text-warn">記号と{{msgPatternAlphabe}}</small>
                    <small *ngIf="siteControllerForm.controls['scReservationRcvUrl'].hasError('maxlength')" class="mat-text-warn">{{msgMaxLength100}}</small>
                    <small *ngIf="siteControllerForm.controls['scReservationRcvUrl'].hasError('required')" class="mat-text-warn">{{msgRequid}}</small>
                  </div>
                </mat-form-field>

                <mat-form-field class="mb-1">
                  <input matInput placeholder="予約受信完了通知URL" formControlName="scReservationRcvCompUrl">
                  <div *ngIf="siteControllerForm.controls['scReservationRcvCompUrl'].invalid && (siteControllerForm.controls['scReservationRcvCompUrl'].touched || siteControllerForm.controls['scReservationRcvCompUrl'].dirty)">
                    <small *ngIf="siteControllerForm.controls['scReservationRcvCompUrl'].hasError('pattern')" class="mat-text-warn">記号と{{msgPatternAlphabe}}</small>
                    <small *ngIf="siteControllerForm.controls['scReservationRcvCompUrl'].hasError('maxlength')" class="mat-text-warn">{{msgMaxLength100}}</small>
                  </div>
                </mat-form-field>
              </ng-container>

              </form>
            </mat-card-content>
          </mat-tab>
        </mat-tab-group>
      <mat-card-actions class="pa-1">
        <button mat-raised-button color="primary"(click)="onSubmit()"[disabled]="useCheck()">保存</button>
        <button mat-raised-button color="accent" (click)="cancel()">中止</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
